###
# Búsqueda Semántica con Pinecone y Replicate - Peticiones de Prueba
# Archivo para usar con REST Client (VS Code) o similar
###

### 1. Verificar que el servidor esté funcionando
GET http://localhost:3000/

###

### 2. Búsqueda semántica básica (automática si está configurada)
POST http://localhost:3000/addresses/search/proximity
Content-Type: application/json

{
  "address": "calle 16 # 31",
  "options": {
    "searchRadius": 5,
    "page": 1,
    "limit": 5
  }
}

###

### 3. Búsqueda semántica explícita
POST http://localhost:3000/addresses/search/semantic
Content-Type: application/json

{
  "address": "carrera 15 numero 25 guión 30",
  "options": {
    "searchRadius": 10,
    "includeNeighborhoods": true,
    "page": 1,
    "limit": 10
  }
}

###

### 4. Búsqueda con dirección mal escrita (ventaja semántica)
POST http://localhost:3000/addresses/search/semantic
Content-Type: application/json

{
  "address": "clle 85 num 15 guion 20",
  "options": {
    "searchRadius": 15,
    "page": 1,
    "limit": 8
  }
}

###

### 5. Búsqueda con abreviaciones variadas
POST http://localhost:3000/addresses/search/semantic
Content-Type: application/json

{
  "address": "kr 81f 54a 53 sur",
  "options": {
    "searchRadius": 20,
    "includeNeighborhoods": true,
    "page": 1,
    "limit": 15
  }
}

###

### 6. Búsqueda con contexto geográfico
POST http://localhost:3000/addresses/search/semantic
Content-Type: application/json

{
  "address": "avenida 68 bogotá",
  "options": {
    "searchRadius": 25,
    "municipality": "BOGOTA",
    "page": 1,
    "limit": 12
  }
}

###

### 7. ADMIN - Migrar direcciones a vectores (MODO TEST - solo 100 registros)
POST http://localhost:3000/addresses/admin/migrate-vectors
Content-Type: application/json

{
  "testMode": true,
  "batchSize": 10,
  "skipExisting": false
}

###

### 8. ADMIN - Migración completa (USAR CON PRECAUCIÓN)
POST http://localhost:3000/addresses/admin/migrate-vectors
Content-Type: application/json

{
  "testMode": false,
  "batchSize": 50,
  "skipExisting": true,
  "maxRetries": 3
}

###

### 9. ADMIN - Obtener estadísticas del índice vectorial
GET http://localhost:3000/addresses/admin/vector-stats

###

### 10. Comparación: búsqueda tradicional vs semántica con la misma consulta
# Tradicional (si no está configurada la semántica)
POST http://localhost:3000/addresses/search/proximity
Content-Type: application/json

{
  "address": "calle 100 sur",
  "options": {
    "searchRadius": 10,
    "page": 1,
    "limit": 5
  }
}

###

# Semántica explícita
POST http://localhost:3000/addresses/search/semantic
Content-Type: application/json

{
  "address": "calle 100 sur",
  "options": {
    "searchRadius": 10,
    "page": 1,
    "limit": 5
  }
}

###
